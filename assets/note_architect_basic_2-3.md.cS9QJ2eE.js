import{_ as l,c as a,o as i,a4 as t,ai as r,aj as o,ak as s,al as e,am as n,an as c}from"./chunks/framework.B_ifBoUD.js";const P=JSON.parse('{"title":"2-3 设备管理-文件管理","description":"","frontmatter":{},"headers":[],"relativePath":"note/architect/basic/2-3.md","filePath":"note/architect/basic/2-3.md","lastUpdated":1721289615000}'),h={name:"note/architect/basic/2-3.md"},g=t('<h1 id="_2-3-设备管理-文件管理" tabindex="-1">2-3 设备管理-文件管理 <a class="header-anchor" href="#_2-3-设备管理-文件管理" aria-label="Permalink to &quot;2-3 设备管理-文件管理&quot;">​</a></h1><h2 id="设备管理概述" tabindex="-1">设备管理概述 <a class="header-anchor" href="#设备管理概述" aria-label="Permalink to &quot;设备管理概述&quot;">​</a></h2><ul><li>设备是计算机系统与外界交互的工具，具体负责计算机与外部的输入、输出工作，所以常称为外部设备（外设）。在计算机系统中，将负责管理设备和输入、输出的机构称为I/O系统，因此，I/O系统由设备、控制器、融到（具有通道的计算机系统）、总线和I/O软件组成。</li><li>设备的分类： <ul><li><strong>按数据组织分类</strong>：块设备、字符设备</li><li><strong>按照设备功能分类</strong>：输入设备、输出设备、存储设备、网络联网设备、供电设备</li><li><strong>资源分配角度分类</strong>：独占设备、共享设备和虚拟设备</li><li><strong>数据传输速率分类</strong>：低速设备、中速设备和高速设备</li></ul></li><li>设备管理的任务是保证在多道程序环境下，当<strong>多个进程竞争使用设备时</strong>，按一定的策略<strong>分配和管理各种设备</strong>，控制设备的各种操作，完成I/O设备与主存之间的数据交换。</li><li>设备管理的主要功能是<strong>动态的掌握并记录设备的状态</strong>，设备分配和释放、缓冲区管理、实现物理I/O设备的操作、提供设备使用的用户接口以及设备的访问和控制。</li></ul><h3 id="i-o软件" tabindex="-1">I/O软件 <a class="header-anchor" href="#i-o软件" aria-label="Permalink to &quot;I/O软件&quot;">​</a></h3><p><img src="'+r+'" alt=""></p><ul><li>实例：用户程序试图读一个硬盘文件时，需要通过操作系统实现这一操作。<strong>与设备无关软件检查高速缓存中有无要读的数据块</strong>，若没有，<strong>则调用设备驱动程序，向I/O硬件发出一个请求</strong>。</li><li>然后，用户进程阻塞并等待磁盘操作的完成</li><li><strong>当磁盘操作完成时，硬件产生一个中断，转入中断处理程序</strong>。中断处理程序检查终端的原因，认识到<strong>这时磁盘读取操作已经完成，于是唤醒用户进程取回从磁盘读取的信息，从而结束此次I/O请求</strong></li><li>用户进程在得到了所需的硬盘文件内容之后继续运行。</li></ul><h3 id="设备管理技术" tabindex="-1">设备管理技术 <a class="header-anchor" href="#设备管理技术" aria-label="Permalink to &quot;设备管理技术&quot;">​</a></h3><p><img src="'+o+'" alt=""></p><ul><li>一台独占设备，在同一时间只能由一个进程使用，其他进程只能等待，且不知道什么时候打印机空闲。</li><li>引入spooing（外围设备联机操作）技术，就是在外设上监理两个数据缓冲区，分别称为输入井和输出井，这样，无论多少进程，都可以共用这一台打印机，只需要将打印命令发出，数据就会排队存储在缓冲区中，打印机会自动按顺序打印，实现物理外设的共享，使得每个进程都感觉在使用一个打印机，这就是物理设备的虚拟化，</li></ul><h3 id="考试真题" tabindex="-1">考试真题 <a class="header-anchor" href="#考试真题" aria-label="Permalink to &quot;考试真题&quot;">​</a></h3><p><img src="'+s+'" alt=""></p><p>答案：C</p><h2 id="文件管理概述" tabindex="-1">文件管理概述 <a class="header-anchor" href="#文件管理概述" aria-label="Permalink to &quot;文件管理概述&quot;">​</a></h2><ul><li>文件是<strong>具有符号名，在逻辑上具有完整意义的一组相关信息项的集合</strong></li><li>信息项是<strong>构成文件内容的基本单位</strong>，可以使一个字符，也可以是一个记录，记录可以等长，也可以不等长。一个文件包括<strong>文件体和文件说明</strong><ul><li>文件体是文件真实的内容</li><li>文件说明是操作系统为了管理文件所用到的信息，包括文件名、文件内部标识、文件的类型、文件存储地址、文件的长度、访问权限。建立时间和访问时间等等。</li></ul></li><li>文件管理系统，<strong>就是操作系统中实现文件统一管理的一组软件和相关数据的集合，专门负责管理和存取文件信息的软件机构</strong>，简称文件系统 <ul><li>文件系统的功能包括按名存取；统一的用户接口；并发访问和控制；安全性控制；优化性能；差错恢复</li></ul></li><li>文件的类型： <ul><li>按文件性质和用途可将文件分为系统文件、库文件和用户文件</li><li>按信息保存期限分类可将文件分为临时文件、档案文件和永久文件</li><li>按文件的保护方式分类可将文件分为只读文件、读/写文件、可执行文件和不保护文件</li><li>unix系统将文件分为普通文件、目录文件和设备文件（特殊文件）</li></ul></li></ul><h3 id="文件结构" tabindex="-1">文件结构 <a class="header-anchor" href="#文件结构" aria-label="Permalink to &quot;文件结构&quot;">​</a></h3><ul><li>文件的逻辑结构： <ul><li><strong>有结构的记录式文件</strong></li><li><strong>无结构的流式文件</strong></li></ul></li><li>文件的物理结构是指<strong>文件在物理存储设备上的存放方法</strong><ul><li>连续结构 连续结构也称顺序结构，它将<strong>逻辑上连续地文件信息（如记录）依次存放在连续标号的物理块上</strong></li><li>链接结构 链接结构也称串联结构，它是<strong>将逻辑上连续地文件信息（如记录）存放在不连续的物理块上，每个物理块设有一个指针指向下一个物理块</strong></li><li>索引结构 （重点）将<strong>逻辑上连续地文件信息（如记录）存放在不连续的物理块中</strong>，系统为每个文件建立一张索引表，<strong>索引表记录了文件信息所在的逻辑块号对应的物理块号</strong>，并将索引表的起始地址放在与文件对应的文件目录项中</li><li>多个物理块的索引表 索引表是<strong>在文件创建时由系统自动建立的</strong>，并与文件一起存放在同一文件卷上，根据一个文件大小的不同，其索引表占用物理块的个数不等，一般占一个或几个物理块</li></ul></li></ul><h3 id="索引文件结构" tabindex="-1">索引文件结构 <a class="header-anchor" href="#索引文件结构" aria-label="Permalink to &quot;索引文件结构&quot;">​</a></h3><p><img src="'+e+'" alt=""></p><ul><li>系统中有13个索引节点，0-9位直接索引，即每个索引节点存放的是内容，假设每个物理盘大小为4KB，共可存<code>4KB*10=40KB</code></li><li>10号索引节点为一级间接索引节点，大小为4KB，存放的并非直接数据，而是链接到直接物理盘块的地址，假设每个地址占4B，则共有1024个地址，对应1024个物理盘，共可存1024个地址，对应1024个物理盘，共可存<code>1024*4KB=4096KB</code>数据</li><li>二级索引节点类似，直接盘存放一级地址，一级地址再存放物理盘块地址，而后链接到存放数据的物理盘块，容量又扩大了一个数量级，为<code>1024*1024*4KB</code>数据</li></ul><h3 id="考试真题-1" tabindex="-1">考试真题 <a class="header-anchor" href="#考试真题-1" aria-label="Permalink to &quot;考试真题&quot;">​</a></h3><p><img src="'+n+'" alt=""></p><p>解析：每个地址项大小为4B，如果题目里面没有说从1编号或者其他索引，那么就从0开始，索引块（存放索引磁盘大小多少）和数据块（存放内容磁盘大小多少）。</p><p>直接索引0-4 一级间接索引5 - 516 二级简介索引517 - 66052 <code>5 * 1 + 512 * 1 + 256 * 256 * 1</code> 答案：C D</p><h3 id="文件目录" tabindex="-1">文件目录 <a class="header-anchor" href="#文件目录" aria-label="Permalink to &quot;文件目录&quot;">​</a></h3><p><img src="'+c+'" alt=""></p>',25),d=[g];function u(_,p,m,b,q,f){return i(),a("div",null,d)}const k=l(h,[["render",u]]);export{P as __pageData,k as default};
